import{GluonElement as t,html as e}from"../gluonjs/gluon.js";import{SlidemSlide as l}from"./slidem-slide.js";const i=document.createTextNode("\n  /* SLIDEM BASIC SLIDE STYLE */\n  slidem-basic-slide h1,\n  slidem-basic-slide h2,\n  slidem-basic-slide h3,\n  slidem-basic-slide h4,\n  slidem-basic-slide h5,\n  slidem-basic-slide h6,\n  slidem-basic-slide p {\n    margin-top: 0px;\n    margin-bottom: 0px;\n  }\n\n  slidem-basic-slide a {\n    color: inherit;\n    text-decoration: none;\n  }\n"),s=document.createElement("style");s.appendChild(i),document.head.appendChild(s);export class SlidemBasicSlide extends l{connectedCallback(){super.connectedCallback();const t=this.getAttribute("background");if(t)if(t.match(/^--[a-zA-Z-]*$/))this.style.background=`var(${t})`;else if(t.match(/^http/)||t.match(/^\//)){const e=this.getAttribute("darken-background");let l=`url(${t})`;e&&(l=`linear-gradient(rgba(0,0,0,${e}), rgba(0,0,0,${e})), ${l}`),this.style.backgroundImage=l}else this.style.background=t;this.textNodes=Array.from(this.querySelectorAll("h1, h2, h3, h4, h5, h6, p, span")),this.textNodes.forEach(t=>{null!==t.getAttribute("bold")&&(t.style.fontWeight="bold"),null!==t.getAttribute("italic")&&(t.style.fontStyle="italic"),null!==t.getAttribute("uppercase")&&(t.style.textTransform="uppercase"),null!==t.getAttribute("center")&&(t.style.textAlign="center"),null!==t.getAttribute("line-height")&&(t.style.lineHeight=t.getAttribute("line-height"));const e=t.getAttribute("color");null!==e&&(e.match(/^--[a-zA-Z-]*$/)?t.style.color=`var(${e})`:t.style.color=e)}),this.layoutNodes=Array.from(this.querySelectorAll("div")),this.layoutNodes.forEach(t=>{null!==t.getAttribute("center")&&(t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center")})}static get observedAttributes(){const t=super.observedAttributes||[];return Array.prototype.push.apply(t,["active","next"]),t}attributeChangedCallback(t,e,l){super.attributeChangedCallback(t,e,l),"active"!==t&&"next"!==t||null!==l&&this.__rescale()}__rescale(){requestAnimationFrame(()=>{this.textNodes.forEach(t=>{if(null!==t.getAttribute("fit")){t.style.display="table";const e=parseFloat(window.getComputedStyle(t,null).getPropertyValue("font-size")),l=this.$.content.clientWidth;t.style.fontSize=`${Math.floor(e*l/t.clientWidth)-1}px`}})})}};customElements.define(SlidemBasicSlide.is,SlidemBasicSlide);
//# sourceMappingURL=slidem-basic-slide.js.map
